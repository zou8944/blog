<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"zou8944.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.8.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
<meta property="og:type" content="website">
<meta property="og:title" content="果冻 | Jelly">
<meta property="og:url" content="https://zou8944.com/page/2/index.html">
<meta property="og:site_name" content="果冻 | Jelly">
<meta property="og:description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="果冻 | Jelly">
<meta property="article:tag" content="果冻 博客">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://zou8944.com/page/2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/2/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>果冻 | Jelly</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">果冻 | Jelly</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">果冻的碎碎念</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">果冻 | Jelly</p>
  <div class="site-description" itemprop="description">Beat Jelly; Hit Jelly; Kill Jelly.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E3%80%8A%E8%B6%85%E8%B6%8A%E6%84%9F%E8%A7%89%E3%80%8B%E2%80%94%E2%80%94%E6%B2%A1%E6%9C%89%E9%A2%84%E6%9C%9F%E7%9A%84%E9%82%A3%E6%A0%B7%E5%A5%BD--chao-yue-gan-jue--mei-you-yu-qi-de-na-yang-hao/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E3%80%8A%E8%B6%85%E8%B6%8A%E6%84%9F%E8%A7%89%E3%80%8B%E2%80%94%E2%80%94%E6%B2%A1%E6%9C%89%E9%A2%84%E6%9C%9F%E7%9A%84%E9%82%A3%E6%A0%B7%E5%A5%BD--chao-yue-gan-jue--mei-you-yu-qi-de-na-yang-hao/" class="post-title-link" itemprop="url">《超越感觉》——没有预期的那样好</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-11 23:41:18" itemprop="dateCreated datePublished" datetime="2021-09-11T23:41:18+08:00">2021-09-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E6%83%B3-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">随想 | 读书笔记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>阅读时间：6.5小时<br>阅读粒度：较粗</p>
</blockquote>
<h2 id="背景篇"><a href="#背景篇" class="headerlink" title="背景篇"></a>背景篇</h2><p>全书的思路很清晰，也能看出作者想要表达什么。</p>
<p>大家认识自我我们每个人，都受到特定的时间和空间的限制，拥有不同的文化背景，从小被灌输特定的道德观念，因此我们看待问题的角度一定是不一样的；我们的想法、思绪，受外界影响，大众媒体的发展，导致我们花在手机、电视上的时间比花在学习上的时间多好几倍，而这些媒介只是受商业或政治驱使的工具，具有很强的“洗脑”作用，无形中影响着我们看问题的角度；就算我们是一个爱学习的好孩子，我们的认知也会收到当前时代局限性的影响：人类从古至今的发展，几乎一直是进步的，每个时代都认为自己拥有超高水平的认知。但历史一次次证明，以前看起来无懈可击的理论，随着更多发现和研究，看起来变得颇为可笑，日心说如此，甚至经典力学也不能完全适用所有情况。这是第一章所阐述的内容，是全书最有意义的一章。</p>
<p>要拥有批判性思维，首先应该有上述觉悟，我们有局限性，我们的时代有局限性。应当始终坚持一个观点：“我知道我有局限性并且容易出错。而且，毫无疑问，我将永远不可能找到自己想知道的所有答案。但是我可以观察得更准确一点，权衡问题更全面一点，作出决定时更加仔细一点，如果我这么做了，我就会更加接近真理”。</p>
<p>这里引出一个方法问题，如何才算批判性思维呢？从事理性研究工作的人应该比较有体会。</p>
<ul>
<li>对于任何信息、观点，都不能直接相信</li>
<li>需要针对它提出问题 → 搜集资料、证据 → 分析论证 → 得出结论</li>
</ul>
<p>这一过程，也是我们日常工作的一部分。有人说，WebSocket是服务端推送最好的方式，针对这一观点，我们可以提出几个疑问</p>
<ul>
<li>这个观点本身是真的吗？</li>
<li>服务端推送是什么？</li>
<li>服务端推送还有哪些技术实现方案？</li>
<li>有最好的方式吗？“最好”岂不是银弹？这个世界上有银弹吗？</li>
</ul>
<p>然后，通过搜集整理，我们会发现除了WebSocket外，还有long-polling、SSE、HTTP2都与服务端推送相关，只是说WebSocket的功能更加全面，但它也有缺点，如不能使用现有的HTTP基础设施，这个角度讲，长轮询和SSE反而更好。还有使用场景，如果仅仅想要一个简单的服务端推送，几个技术都能满足，此时就要从实现的简单程度上考虑了。</p>
<p>这里又引出一个问题，那就是持有批判性思维，必然要求我们对大量资料和数据进行分析，如此大量的输入，要求我们有较为丰富的知识储备：丰富的知识，是又一个重点。</p>
<p>至于本篇后面几章，只是对前两章的扩展，论证说明几个点，过于啰嗦，直接略过。</p>
<ul>
<li>自我认知是有局限性的</li>
<li>任何资料都可能出错，包括感知、记忆、信息、权威，我们要做的，是判断它的确信度</li>
<li>得出观点要有充分的依据</li>
<li>为了面子坚持自己错误的观点是愚蠢的，理智地改变自己的观点并不会被人嘲笑</li>
<li>自我要求：要从受限的环境中通过一次次理性的批判分析赢得“个性”</li>
</ul>
<h2 id="易犯的错误"><a href="#易犯的错误" class="headerlink" title="易犯的错误"></a>易犯的错误</h2><p>本篇列举多达十几种错误。从根源看的话，无非两类：自我认知问题和方式方法问题</p>
<ul>
<li>自我认知问题：以自我为中心，不听从他人意见，容易受情绪影响；或者是受外界影响，无法坚持自己，容易盲从；多多少少有一些观点偏向性，导致发现的证据和做出的结论带有偏见。</li>
<li>方式方法问题：搜集资料不够多，不能做出正确的判断；缺乏耐心，急于下结论，导致得到一个草率的结论，甚至错误的结论。</li>
</ul>
<p>要解决这些问题，觉得应该做到几点</p>
<ul>
<li>扩展知识面</li>
<li>保持谦逊的态度，保持求知的态度</li>
<li>保持自信，却不盲目自信：这前提是观点经过自己反复论证</li>
<li>保持耐心</li>
</ul>
<h2 id="策略"><a href="#策略" class="headerlink" title="策略"></a>策略</h2><p>如果说前面讨论的是理论基础，这里说的就是方法了，但这几章我直接跳过了，因为除了提纲，它所传达的细节内容对我不会有任何帮助。</p>
<p>那我们来大致说一下方法论。</p>
<ul>
<li>认识自己：批判性思考，一般来说是思考自己在生活中遇到的问题。但自己才是所有问题的首要，很多人愤怒、堕落，正是因为没有从批判的角度看清自己。</li>
<li>善于观察：不只是善于观察生活，还要善于观察方方面面，以我为例，行业、技术，都算。</li>
<li>选择议题：即批判性思考的目标。首先要从各方面拆分问题，再根据这些方面搜集资料。</li>
<li>资料搜集：搜集的资料，来自各种途径、有各种类型，要针对途径、类型再次以批判性眼光进行论证。</li>
<li>下结论：什么时候能下结论？当你认为事情已经有明确证据证明的时候。</li>
<li>说服他人：我为什么要说服他人？</li>
</ul>
<p>看，这也只是对第一篇批判性思考执行方法的具体扩展，所以呢，不读也罢。</p>
<p>而且，批判性思维这种东西，重在指导，具体怎么做，还是看个人。</p>
<h2 id="总体怎么讲"><a href="#总体怎么讲" class="headerlink" title="总体怎么讲"></a>总体怎么讲</h2><p>总体来说是本好书，但读完之后有种啥也没看的感觉，原因是干扰项太多。至少有两个干扰项——不够本土化的例子、过于啰嗦的表述方式。</p>
<p>仔细回想，我能记得的关键点就只有几个</p>
<ul>
<li>怀疑一切，包括自己：证据有可能是假的；自己是有局限性的</li>
<li>凡事经过论证：只有充分的证据表明一件事情是那样的，它才是那样的，别人说的，一概不信</li>
<li>问-找-结：从各方面充分提问，找论据做支撑，得出结论</li>
</ul>
<p>这本书适合谁？</p>
<p>至少不适合我，或者不完全适合我。一来，对于我认为是问题的问题，已经采取了书中所说的方法进行论证解析，因此没有带来太多东西；二来，表达过于学术化，可能因为它叫”批判性思考指南“吧，所以提出的任何一个观点，都会有一堆素材作为证据。而这些论据往往带有美国独有的历史、政治、民族特性，我完全无感，对阅读体验来说是负面的。与此相对，《认知觉醒》中的例子十分符合中国国情，队理解起到了正面作用。</p>
<p>适合谁呢🤔。可能适合学生，每一章后有应用题，而且作者也有提及”学期“这种字眼，想必就是为学生专门设计。我这种只想从中获取观点和方法的人，粗略看一遍即可；而想要细致培养批判性思维方式的学生、学者，可以按照书的节奏试一试。</p>
<h2 id="本书对我的影响"><a href="#本书对我的影响" class="headerlink" title="本书对我的影响"></a>本书对我的影响</h2><ul>
<li>认识到自己有局限性，别人也有局限性，所以不应该对别人有莫名的高期望值。别人，是你文章的读者，你的同事，也是你的聊天对象。</li>
<li>局限于专业会导致看问题视角过窄，因此保持对学习的激情，保持对问题的好奇，多多探索，才是批判性探索的应对之道。</li>
<li>批判所有，问题本身、提出问题的人、为解决问题而找出的资料，批判是递归的。</li>
<li>保持耐心：“我知道我有局限性并且容易出错。而且，毫无疑问，我将永远不可能找到自己想知道的所有答案。但是我可以观察得更准确一点，权衡问题更全面一点，作出决定时更加仔细一点，如果我这么做了，我就会更加接近真理”。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E6%88%91%E5%AF%B9%E8%B7%A8%E5%9F%9F%E5%8F%AF%E8%83%BD%E6%9C%89%E4%BA%9B%E8%AF%AF%E8%A7%A3-2021-09-08-22-42-45/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E6%88%91%E5%AF%B9%E8%B7%A8%E5%9F%9F%E5%8F%AF%E8%83%BD%E6%9C%89%E4%BA%9B%E8%AF%AF%E8%A7%A3-2021-09-08-22-42-45/" class="post-title-link" itemprop="url">我对跨域可能有些误解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-08 22:42:45" itemprop="dateCreated datePublished" datetime="2021-09-08T22:42:45+08:00">2021-09-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-24 17:10:10" itemprop="dateModified" datetime="2021-09-24T17:10:10+08:00">2021-09-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">后端 | 网络基础</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="已知"><a href="#已知" class="headerlink" title="已知"></a>已知</h2><p>不得不说，我(们)对跨域可能有些误解。确切地讲，是对跨域的使用有些误解。</p>
<p>我的跨域知识从哪里来？从这里——<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">跨源资源共享（CORS） - HTTP | MDN</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E6%88%91%E5%AF%B9%E8%B7%A8%E5%9F%9F%E5%8F%AF%E8%83%BD%E6%9C%89%E4%BA%9B%E8%AF%AF%E8%A7%A3-2021-09-08-22-42-45/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E5%96%9C%E6%AC%A2%E9%B2%81%E9%B2%81%E4%BF%AE--wo-wei-shen-me-xi-huan-lu-lu-xiu-httpswwwnotionsoa72043b53a5a48f3beb069ab6a18be9b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E5%96%9C%E6%AC%A2%E9%B2%81%E9%B2%81%E4%BF%AE--wo-wei-shen-me-xi-huan-lu-lu-xiu-httpswwwnotionsoa72043b53a5a48f3beb069ab6a18be9b/" class="post-title-link" itemprop="url">我为什么喜欢鲁鲁修</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-09-06 21:49:34 / 修改时间：21:59:23" itemprop="dateCreated datePublished" datetime="2021-09-06T21:49:34+08:00">2021-09-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">随想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>《反叛的鲁鲁修》好看吗？毫无疑问我认为是好看的，但细想，为啥我会觉得好看呢？不能凭感觉，好看总有个理由，必须是客观上的。</p>
<h2 id="世界设定"><a href="#世界设定" class="headerlink" title="世界设定"></a>世界设定</h2><p>动漫吸引我的很大原因，在于想象力。火影忍者凭空架设出一个完整的忍者世界，海贼王的海贼世界，无一不让我惊叹这些作者丰富的想象力。鲁鲁修给的世界让人感觉非常有意思——直接根据现实世界改变而来。</p>
<p>世界地图，就是真实的世界地图，不同的是所属国家的变化。全球分为三大部分：布里塔尼亚——美洲、EU——欧洲、中华联邦——亚洲大部分。布里塔尼亚就是美帝的翻版，占领日本，也仿佛是在影射二战。并且，和现实一样，布里塔尼亚研究出核武器并在日本本土进行了投放。</p>
<p>这样直接根据历史而来的世界背景设定，是我第一次见到（动漫还是看得少。。。）</p>
<h2 id="反叛和翻转"><a href="#反叛和翻转" class="headerlink" title="反叛和翻转"></a>反叛和翻转</h2><p>反叛的鲁鲁修，“反叛”一词。起初的理解类似叛逆，一个少年的反叛，与叛逆无异。</p>
<p>果然还是我太年轻。就感觉和写主题作文一样，片中好像一直在点题。第一季，为了妹妹娜娜莉，顶着布里塔尼亚人的身份，以ZERO之名，直接反叛布里塔尼亚政府；反叛兄弟朱雀；反叛恋人莎莉；反叛皇妹尤菲米娅；最终为救娜娜莉甚至客观反叛黑色骑士团。第二季更为彻底，反叛妹妹娜娜莉。</p>
<p>伴随反叛的，就是不停地反转。我要战败了。。。诶反转，我有了最新武器，无敌的存在；我要被黑色骑士团制裁了。。。诶反转，我摇身一变成了布里塔利亚的皇帝；我要将世界以自己的方式进行有利的改造，要与世界为伍。。。诶反转，我变成了全世界的公敌；我要专制独裁统治全世界。。。诶反转，我将仇恨带到地狱，留给世界一片祥和。</p>
<p>只能说。。。简直了。</p>
<h2 id="英雄主义"><a href="#英雄主义" class="headerlink" title="英雄主义"></a>英雄主义</h2><p>就像漫画中活跃的电台制作人迪特哈尔特·里德一样，我相信现实生活中的很多人都对个人英雄主义都有别样的喜爱之情，不然《玫瑰岛共和国》这样的电影为什么能够高分。为一个人，与全世界最强政府为敌，以独特的人格魅力和领导才能，左右着世界的风云变化；从与一个国家为敌，到与全世界为敌，将全世界的邪与恶集中于自己一人，再慷慨赴死，换取世界长久的和平。这样极致到如此彻底的个人英雄主义，极致到带有浓重的浪漫主义色彩，也是完美的理想主义。怎能不让人喜欢。</p>
<h2 id="战争与和平"><a href="#战争与和平" class="headerlink" title="战争与和平"></a>战争与和平</h2><p>动漫里有很多嘴遁环节，出现最多的话题是——和平。查尔斯国王和玛丽安娜王妃想让大家活在虚无的，没有实际战争和纷杂的精神世界中（这不就是。。。无限月读吗）；修奈泽尔的解决方案是核威慑；鲁鲁修则给全世界人们施以“愿望”的Geass，让大家憧憬美好的明天。</p>
<p>客观理性地讲是鲁鲁修正确，但凡事无绝对呀。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/WebSocket%E5%95%8A%E5%96%82-websocket-a-wei/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/WebSocket%E5%95%8A%E5%96%82-websocket-a-wei/" class="post-title-link" itemprop="url">WebSocket啊喂</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-03 18:39:28" itemprop="dateCreated datePublished" datetime="2021-09-03T18:39:28+08:00">2021-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">后端 | 网络基础</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>本文主要包含三部分</p>
<ul>
<li>WebSocket协议、STOMP协议、SockJS协议三部分的理论介绍</li>
<li>使用Spring实现一个简单的消息推送服务</li>
<li>使用Postman调试STOMP服务</li>
</ul>
</blockquote>
<p>WebSocket我们大概都知道是个啥东西，原理上挺简单，使用起来却没那么容易。因为我们会发现，无论是Spring的WebSocket部分的手册，还是网络上的一大票文章，无不涉及到三个关键词——WebSocket、SockJS、STOMP。以至于我们想找一篇介绍只使用WebSocket构建服务的文章都十分困难。究其原因，我想大致有这么几个</p>
<ul>
<li>WebSocket协议在数据层面还是太底层了，需要STOMP这样的应用层协议供大家使用；而STOMP又涵盖了消息中心的大部分使用场景，因此变得很必要。</li>
<li>对前端来说，sockjs-client库很多时候是接入WebSocket的较好的方式，于是SockJS协议映入眼帘。</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/WebSocket%E5%95%8A%E5%96%82-websocket-a-wei/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E6%88%91%E8%AF%BB%E3%80%8A%E8%AE%A4%E7%9F%A5%E8%A7%89%E9%86%92%E3%80%8B-wo-du--ren-zhi-jue-xing-/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E6%88%91%E8%AF%BB%E3%80%8A%E8%AE%A4%E7%9F%A5%E8%A7%89%E9%86%92%E3%80%8B-wo-du--ren-zhi-jue-xing-/" class="post-title-link" itemprop="url">我读《认知觉醒》</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-31 22:15:12" itemprop="dateCreated datePublished" datetime="2021-08-31T22:15:12+08:00">2021-08-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">读书笔记</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>终于到了写读后感的关键时刻了吗？听取本书作者周岭的建议，今后的读后感不再是一本书的大纲和金句摘抄，而是主要侧重于自己有所感悟的地方，最重要的是要和自己联系起来。以目前我的水平来说，这样的读后感无疑不会受到大家的赞同，因为是专门针对自己的（不过理性分析，以前的读后感也没有人给我点赞呀，因为总想写得很好，但本就缺乏文笔和写作练习的自己，怎么可能写出受大家欢迎的作品呢？）。</p>
<p>我这里分成两部分</p>
<ul>
<li>阐述本书的核心思想。很有必要，因为它是理论指导。</li>
<li>如何将书中方法应用在自己身上？</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E6%88%91%E8%AF%BB%E3%80%8A%E8%AE%A4%E7%9F%A5%E8%A7%89%E9%86%92%E3%80%8B-wo-du--ren-zhi-jue-xing-/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E4%BB%BB%E5%8A%A1%E5%BF%83%E6%80%81%E7%9A%84%E5%8F%8D%E6%80%9D-ren-wu-xin-tai-de-fan-si/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E4%BB%BB%E5%8A%A1%E5%BF%83%E6%80%81%E7%9A%84%E5%8F%8D%E6%80%9D-ren-wu-xin-tai-de-fan-si/" class="post-title-link" itemprop="url">任务心态的反思</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-29 11:25:27" itemprop="dateCreated datePublished" datetime="2021-08-29T11:25:27+08:00">2021-08-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E6%B4%BB-%E9%9A%8F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">生活 | 随想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>我们都会有一种认知闭合需求，即在做某件事时，只要有一个自认为合理的判定其完成的标准，我们就会认为这件事已经完成，从而丧失对它的兴趣。</p>
<p>这种心态，也叫做任务心态。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E4%BB%BB%E5%8A%A1%E5%BF%83%E6%80%81%E7%9A%84%E5%8F%8D%E6%80%9D-ren-wu-xin-tai-de-fan-si/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E8%AF%BB%E4%B9%A6%E4%B8%8D%E5%BA%94%E8%AF%A5%E8%BF%87%E4%BA%8E%E7%90%86%E6%80%A7-du-shu-bu-ying-gai-guo-yu-li-xing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E8%AF%BB%E4%B9%A6%E4%B8%8D%E5%BA%94%E8%AF%A5%E8%BF%87%E4%BA%8E%E7%90%86%E6%80%A7-du-shu-bu-ying-gai-guo-yu-li-xing/" class="post-title-link" itemprop="url">读书不应该过于理性</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-28 16:31:01" itemprop="dateCreated datePublished" datetime="2021-08-28T16:31:01+08:00">2021-08-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">随想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="我读一本书的鬼样子"><a href="#我读一本书的鬼样子" class="headerlink" title="我读一本书的鬼样子"></a>我读一本书的鬼样子</h2><p>来描绘一下我现在读书的样子。首先我会按照如下顺序去阅读</p>
<ul>
<li>目录</li>
<li>从前往后通读</li>
<li>如果需要，我会做笔记，记录所有看起来重要的知识点</li>
<li>整理并输出笔记</li>
</ul>
<p>于是，我得到了这本书的缩减版，所谓的，把书读薄。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E8%AF%BB%E4%B9%A6%E4%B8%8D%E5%BA%94%E8%AF%A5%E8%BF%87%E4%BA%8E%E7%90%86%E6%80%A7-du-shu-bu-ying-gai-guo-yu-li-xing/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/Charles%E6%8A%93%E5%8C%85%E9%85%8D%E7%BD%AE-charles%E6%8A%93%E5%8C%85%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Charles%E6%8A%93%E5%8C%85%E9%85%8D%E7%BD%AE-charles%E6%8A%93%E5%8C%85%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Charles抓包配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-08-16 22:41:54 / 修改时间：22:48:23" itemprop="dateCreated datePublished" datetime="2021-08-16T22:41:54+08:00">2021-08-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Charles是Fiddler之外的另一个抓包工具。传说比Fiddler好用，但配置起来其实是有几点坑的。还是可以掰扯掰扯。</p>
<h2 id="配置步骤概览"><a href="#配置步骤概览" class="headerlink" title="配置步骤概览"></a>配置步骤概览</h2><p>我们配置的目的是利用Charles抓取同局域网下的IOS上应用软件的HTTPS包。环境为Mac OS</p>
<ol>
<li><p>配置Charles</p>
<ol>
<li>Proxy → Proxy Setting，设置端口为8888</li>
<li>Proxy → SSL Proxying Settings，开启SSL代理</li>
<li>Help → SSL Proxying → Install Charles Root Certificate，给本机安装SSL证书</li>
</ol>
</li>
<li><p>配置IOS</p>
<ol>
<li><p>连接局域网，为该网络手动设置代理，代理地址为PC的局域网地址，端口为8888</p>
</li>
<li><p>电脑端：Help → SSL Proxying → Install Charles Root Certificate on a Mobile or Remote Server</p>
<p> 此时弹出一个框，按照其指示为手机安装证书</p>
</li>
</ol>
</li>
<li><p>抓包</p>
<p> 在需要抓包的链接单击右键 → Enable SSL Proxying</p>
</li>
</ol>
<p>然后，就可以快乐滴抓包了。</p>
<h2 id="坑点"><a href="#坑点" class="headerlink" title="坑点"></a>坑点</h2><p>这是本文的重点。上面基本步骤网上一搜一大把，因此文字描述足矣。</p>
<h3 id="要怎么看mac本机地址"><a href="#要怎么看mac本机地址" class="headerlink" title="要怎么看mac本机地址"></a>要怎么看mac本机地址</h3><p>要么ifconfig | grep 192.168</p>
<p>要么Help → Local IP Adress</p>
<h3 id="mac端安装根证书"><a href="#mac端安装根证书" class="headerlink" title="mac端安装根证书"></a>mac端安装根证书</h3><p>安装是比较好安装，但别忘了还要手动设置信任证书，否则不能用。</p>
<p><img src="https://gdz.oss-cn-shenzhen.aliyuncs.com/halo/mac-root-certificate_1629125032475.png" alt="macrootcertificate.png"></p>
<h3 id="ios端安装根证书"><a href="#ios端安装根证书" class="headerlink" title="ios端安装根证书"></a>ios端安装根证书</h3><p>手机端有两个注意事项</p>
<ul>
<li><p>证书下载地址一定要用safari打开，否则IOS不会将其当做描述文件添加到设置中</p>
</li>
<li><p>描述文件安装后，还要在 通用 → 关于本机 → 证书信任设置。手动开启对Charles证书的信任，否则不能使用</p>
<p>  <img src="https://gdz.oss-cn-shenzhen.aliyuncs.com/halo/ios-root-certificate_1629125032475.png" alt="iosrootcertificate.png"></p>
</li>
</ul>
<h3 id="charles反复打开几次后代理失效"><a href="#charles反复打开几次后代理失效" class="headerlink" title="charles反复打开几次后代理失效"></a>charles反复打开几次后代理失效</h3><p>这一点不知道是不是Charles本身的问题，在Charles自动退出再进入之后，iOS端就无法再使用，也无法连接上网络。</p>
<p>解决方案——重启电脑。</p>
<h2 id="初步感受到Charles比Fiddler好的地方"><a href="#初步感受到Charles比Fiddler好的地方" class="headerlink" title="初步感受到Charles比Fiddler好的地方"></a>初步感受到Charles比Fiddler好的地方</h2><p>会按路径将所有请求进行归类，看起来清楚明了。</p>
<p>比如我抓幕布的包，就很明晰</p>
<p><img src="https://gdz.oss-cn-shenzhen.aliyuncs.com/halo/chares-folder_1629125032474.png" alt="charesfolder.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98-%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98-%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">时区问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-07-13 10:45:23 / 修改时间：10:47:55" itemprop="dateCreated datePublished" datetime="2021-07-13T10:45:23+08:00">2021-07-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>PostgreSQ中，timstamp是不带时区的类型，timestamp with zone是带时区的类型；函数CURRENT_TIMESTAMP得到的是timestamp with zone的当前时间；函数LOCALTIMESTAMP得到的是timestamp类型的时间。</p>
</blockquote>
<blockquote>
<p>那么你知道，将CURRENT_TIMESTAMP赋值给一个timstamp类型的字段会发生什么吗？</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98-%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210711-ke-ji-sui-xiang--20210711/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210711-ke-ji-sui-xiang--20210711/" class="post-title-link" itemprop="url">科技随想-20210711</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-11 21:32:45" itemprop="dateCreated datePublished" datetime="2021-07-11T21:32:45+08:00">2021-07-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">随想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>韩国成为了发达国家，这意味着什么？</li>
</ul>
<h2 id="发达国家？发展中国家？区别？谁说了算？"><a href="#发达国家？发展中国家？区别？谁说了算？" class="headerlink" title="发达国家？发展中国家？区别？谁说了算？"></a>发达国家？发展中国家？区别？谁说了算？</h2><p>首先说，这并没有一个统一的国际标准说怎么样才是发达国家或者发展中国家。各国际组织标准也不一样。在之前，世界银行、国际货币基金组织、联合国开发计划署等国际机构都已经将韩国列为发达国家。而前几天新闻上说的是联合国贸易与发展会议正式将韩国列为发达国家。</p>
<p>那么，为什么这次韩国反应这么大呢？是因为联合国贸易与发展会议比较重要吗？</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210711-ke-ji-sui-xiang--20210711/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E5%B0%86html%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E6%9C%AC-jiang-html-zhuan-huan-wei-ge-shi-hua-wen-ben/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%B0%86html%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E6%9C%AC-jiang-html-zhuan-huan-wei-ge-shi-hua-wen-ben/" class="post-title-link" itemprop="url">将html转换为格式化文本</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-07 21:09:39" itemprop="dateCreated datePublished" datetime="2021-07-07T21:09:39+08:00">2021-07-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">工具</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>html渲染是一个相对常见的需求，在web前端做起来比较容易。Java中很多组价也支持直接填入html原始数据进行格式化渲染。但有时我们需要将html转换为格式化文本，举例来说，满足如下条件</p>
<ul>
<li>反转html实体，如&amp;</li>
<li>去除所有标签</li>
<li>除换行之外的所有格式全都去除</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E5%B0%86html%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E6%9C%AC-jiang-html-zhuan-huan-wei-ge-shi-hua-wen-ben/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210704-%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210704/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210704-%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210704/" class="post-title-link" itemprop="url">科技随想-20210704</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-07-04 22:48:42 / 修改时间：22:50:12" itemprop="dateCreated datePublished" datetime="2021-07-04T22:48:42+08:00">2021-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E6%83%B3/" itemprop="url" rel="index"><span itemprop="name">随想</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>科技乱炖 - 这个618貌似有点冷</p>
</blockquote>
<h2 id="618有点冷吗？"><a href="#618有点冷吗？" class="headerlink" title="618有点冷吗？"></a>618有点冷吗？</h2><p>先回想一下，今年618我买什么东西了吗？好像有，又好像没有。</p>
<p>如果仅看618的话，我在PDD上买了一堆生活用品，但他们貌似并没有在618更便宜多少。</p>
<p>但如果把618拉长到601来看的话，我买了Apple Watch，然后再618前夕使用保价政策优惠了300块。</p>
<p>今年618动静大吗？我想，除了在朋友圈京东的同学发出来一些备战的状态，其它时候并没有收到太多的宣传。相反，它将整个周期拉长了，从五月下旬就开始预热，部分商品已经便宜了。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210704-%E7%A7%91%E6%8A%80%E9%9A%8F%E6%83%B3-20210704/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9%E6%97%A0%E6%84%8F%E4%B9%89%E6%84%9F-ru-he-ying-dui-wu-yi-yi-gan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9%E6%97%A0%E6%84%8F%E4%B9%89%E6%84%9F-ru-he-ying-dui-wu-yi-yi-gan/" class="post-title-link" itemprop="url">如何应对无意义感</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-01 11:38:21" itemprop="dateCreated datePublished" datetime="2021-07-01T11:38:21+08:00">2021-07-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">生活</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>读《西西弗神话》有感</p>
</blockquote>
<h2 id="思考人生意义的必要性"><a href="#思考人生意义的必要性" class="headerlink" title="思考人生意义的必要性"></a>思考人生意义的必要性</h2><p>意义，亦可作价值、作用。是我们一直在找寻的东西。</p>
<p>上学的意义，读书的意义，工作的意义，以及终极问题——活着的意义、人生的意义。</p>
<p>人是需要驱动力的，而驱动力的很大一部分，来自于对自身当前境况及前途的希望和预期。当不停地对自己进行灵魂拷问，往往会发现你的生活，你的存在并无多大意义，又或者是生活的意义太过遥远，遥远导致短期的心灵空虚。希望变得若隐若现，驱动力时有时无。轻则彷徨度日，重则丧失生活的信心，走向极端。</p>
<p>因此，学习如何和无意义感相处，是一项重要的课题。是每个人总会遇到的问题，迟早而已。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9%E6%97%A0%E6%84%8F%E4%B9%89%E6%84%9F-ru-he-ying-dui-wu-yi-yi-gan/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/Spring%20Webflux%E5%88%9D%E6%8E%A2-springwebflux-chu-tan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/Spring%20Webflux%E5%88%9D%E6%8E%A2-springwebflux-chu-tan/" class="post-title-link" itemprop="url">Spring Webflux初探</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-15 23:41:04" itemprop="dateCreated datePublished" datetime="2021-03-15T23:41:04+08:00">2021-03-15</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-03-20 20:24:34" itemprop="dateModified" datetime="2021-03-20T20:24:34+08:00">2021-03-20</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%93%8D%E5%BA%94%E5%BC%8F-%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">响应式 | 后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>说明：文章中代码参考使用方式即可，请忽略其代表的逻辑部分</p>
</blockquote>
<h2 id="为何想要用Spring-Webflux"><a href="#为何想要用Spring-Webflux" class="headerlink" title="为何想要用Spring Webflux?"></a>为何想要用Spring Webflux?</h2><p>《每记》是一款新产品。一开始想用webflux，为什么呢？这里给出自己的几点理由</p>
<ul>
<li>Spring生态加持，想必会很好用</li>
<li>一直只闻其声不见其人，很想用用</li>
<li>原计划中的vertx-spring项目，想要做成的结果，和webflux很像；因此希望从webflux中找到一些发现</li>
</ul>
<h3 id="《每记》技术构成"><a href="#《每记》技术构成" class="headerlink" title="《每记》技术构成"></a>《每记》技术构成</h3><p>《每记》的主要业务逻辑都在客户端，后端只需要负责用户接口和数据备份。需要用到的技术只有两个</p>
<ul>
<li>grpc —— 用于grpc服务，如user-service，media-service</li>
<li>数据库 —— 用于数据存取</li>
</ul>
<p>grpc的官方库实现基于Netty，天然响应式，能够和webflux结合得比较好；</p>
<p>数据库方面，Spring官方提供R2DBC，但它所处的技术层级和JDBC类似，且尚不成熟，从官方手册的描述就不是很敢用于生产。</p>
<blockquote>
<p>Spring Data R2DBC aims at being conceptually easy. In order to achieve this it does NOT offer caching, lazy loading, write behind or many other features of ORM frameworks. This makes Spring Data R2DBC a simple, limited, opinionated object mapper.</p>
</blockquote>
<p>至于其他的异步数据库链接库，不成体系，使用不便。因此还是使用JDBC。</p>
<p>至于ORM框架，考虑了MyBatis plus、jooq、korm几种，还是认为MyBatis plus相对方便。</p>
<p>于是技术组成就是：</p>
<p>Spring Webflux + GRPC + MyBatis plus</p>
<p>Spring WebMVC + GRPC + Myabtis plus （作为对比）</p>
<h2 id="Webflux简介"><a href="#Webflux简介" class="headerlink" title="Webflux简介"></a>Webflux简介</h2><p>横向看，WebFlux组成大致如下</p>
<p><img src="https://gdz.oss-cn-shenzhen.aliyuncs.com/halo/tapd_61207716_1615454473_19_1616242796287.png" alt="tapd_61207716_1615454473_19"></p>
<p>这和WebMVC的结构图很像，解释一下各部分工作。</p>
<ul>
<li>容器reactor-netty：即基于netty实现的符合reactor标准的容器，Spring Boot默认使用它。其对应的关键核心接口是HttpHandler，webflux中对应的重要实现类是：WebHttpHandlerBuilder，它是整个webflux程序的入口。</li>
<li>Webfilter：过滤器</li>
<li>DispatcherHandler：核心处理器，协调如下三个核心组件工作<ul>
<li>HandleMapping：存储请求URI和处理器的对应关系</li>
<li>HandlerAdapter：封装了主要处理逻辑，处理结果封装成HandlerResult</li>
<li>HandlerResultHandler：针对上一步结果的处理器</li>
</ul>
</li>
<li>WebExceptionHandler：整个流程中抛出的任何异常，都会被它捕获，“真”全局异常处理</li>
</ul>
<p>如想了解进一步内容，请从源码挖掘。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>本节介绍Webflux的使用方式。Webflux有两种使用方式</p>
<ul>
<li>注解式</li>
<li>编程式</li>
</ul>
<p>我们选择注解式，更为方便。至于API风格，选择kotlin协程。</p>
<p>具体使用方式参见mylog的spring-webflux分支，这里列出几个关键点。</p>
<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><p>使用方式和一般的MVC程序没有什么区别，除了一点</p>
<ul>
<li>方法需要是suspend方法或返回Mono/Flux</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResourceController</span></span>(</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> resourceService: ResourceService</span><br><span class="line">) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(<span class="meta-string">&quot;resources/:push&quot;</span>)</span></span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="meta">@RequestBody</span> pushRequest: <span class="type">PushRequest</span></span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: PushResponse &#123;</span><br><span class="line">        <span class="keyword">val</span> result = resourceService.validateAndSave(pushRequest.resources)</span><br><span class="line">        <span class="keyword">return</span> PushResponse(result.map &#123; it.<span class="keyword">data</span> <span class="keyword">as</span> Map&lt;String, Any&gt; &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><p>Webflux中没有拦截器这个概念，要做类似的工作需要在过滤器中完成，项目中我们用到Token验证，使用方法是注册过滤器。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AuthFilter</span></span>(applicationContext: ApplicationContext) : AbstractAuthFilter(applicationContext) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(<span class="meta-string">&quot;\$&#123;authentication.token.name&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> tokenName: String</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 注意这里使用了协程的grpc stub</span></span><br><span class="line">    <span class="meta">@GrpcClient(<span class="meta-string">&quot;user-service&quot;</span>)</span></span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> userStub: UsersServiceGrpcKt.UsersServiceCoroutineStub</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">filter</span><span class="params">(exchange: <span class="type">ServerWebExchange</span>, chain: <span class="type">WebFilterChain</span>)</span></span>: Mono&lt;<span class="built_in">Void</span>&gt; = mono &#123;</span><br><span class="line">        <span class="keyword">val</span> request = exchange.request</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (request.needAuth()) &#123;</span><br><span class="line">            <span class="keyword">val</span> token = request.headers[tokenName]?.first() </span><br><span class="line">            <span class="keyword">val</span> result = userStub.verify(Token.newBuilder().setToken(token).build())</span><br><span class="line">            ... ...</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// chain.filter返回的是Mono，需要调用await方法转换为协程</span></span><br><span class="line">        chain.filter(exchange).awaitSingleOrNull()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="全局异常处理"><a href="#全局异常处理" class="headerlink" title="全局异常处理"></a>全局异常处理</h3><p>Webflux中可以使用@ControllerAdvice注册全局异常处理器，但它仅Controller中抛出的异常生效，无法顾及到过滤器。对异常，推荐的方式是注册WebExceptionHandler。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Order(Ordered.HIGHEST_PRECEDENCE)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExceptionHandler</span> : <span class="type">ErrorWebExceptionHandler &#123;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> objectMapper = ObjectMapper()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对协程的支持</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">handle</span><span class="params">(exchange: <span class="type">ServerWebExchange</span>, ex: <span class="type">Throwable</span>)</span></span>: Mono&lt;<span class="built_in">Void</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> errResponse = objectMapper.writeValueAsBytes(<span class="string">&quot;error message&quot;</span>)</span><br><span class="line"></span><br><span class="line">        response.headers.contentType = MediaType.APPLICATION_PROBLEM_JSON</span><br><span class="line">        response.statusCode = code.httpStatus</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> response.writeWith(Mono.just(response.bufferFactory().wrap(errResponse)))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="同步DAO的调用"><a href="#同步DAO的调用" class="headerlink" title="同步DAO的调用"></a>同步DAO的调用</h3><p>JDBC是同步的，基于它的MyBatis也是同步的，为了不阻塞DIspatcher-Worker线程，需要将其手动调度到其他线程池。当然如下步骤也可以使用AOP实现，这样就不用为每个方法手动调mono方法。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注入Scheduler</span></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> scheduler: Scheduler</span><br><span class="line"><span class="comment">// 讲同步代码注册到该scheduler</span></span><br><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> <span class="title">mono</span><span class="params">(block: () -&gt; <span class="type">T</span>)</span></span>: Mono&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> Mono.defer &#123; Mono.just(block()) &#125;.subscribeOn(scheduler)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用方式</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">save</span><span class="params">(modifications: <span class="type">List</span>&lt;<span class="type">Resource</span>&gt;)</span></span>: Mono&lt;List&lt;Resource&gt;&gt; = mono &#123;</span><br><span class="line">    modifications.mapNotNull &#123;</span><br><span class="line">        resourceMapper.save(it)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h3><p>Knife4j的增强功能无法在Webflux下使用，且当controller为suspend方法时无法正常读取到返回值，需要打如下补丁。</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  修复controller方法为suspend方法时，springfox无法获取返回值类型的情况</span></span><br><span class="line"><span class="comment"> *  因为suspend方法转换为字节码后返回值为null</span></span><br><span class="line"><span class="comment"> *  #issue: https://github.com/springfox/springfox/issues/3241</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Primary</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomRequestHandler</span></span>(</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> resolver: TypeResolver</span><br><span class="line">) : HandlerMethodResolver(resolver) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">methodReturnType</span><span class="params">(handlerMethod: <span class="type">HandlerMethod</span>)</span></span>: ResolvedType &#123;</span><br><span class="line">        <span class="keyword">val</span> func = handlerMethod.beanType.kotlin.declaredFunctions.first &#123; it.javaMethod == handlerMethod.method &#125;</span><br><span class="line">        <span class="keyword">if</span> (func.returnType == <span class="built_in">Unit</span>::<span class="keyword">class</span>.starProjectedType) resolver.resolve(<span class="built_in">Void</span>.TYPE)</span><br><span class="line">        <span class="keyword">return</span> resolver.resolve(func.returnType.javaType)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>以一个最典型的接口resources/:pull进行压力测试，该接口逻辑如下</p>
<ul>
<li>访问user-service验证token</li>
<li>访问数据库读取数据</li>
</ul>
<p>测试工具为apache-utils，ab。</p>
<p>测试结果总结就是：相同条件下，webflux的性能表现相比webmvc并没有什么变化。</p>
<h2 id="初步结论-——-不选择"><a href="#初步结论-——-不选择" class="headerlink" title="初步结论 —— 不选择"></a>初步结论 —— 不选择</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>本身的异步模型</li>
<li>Spring生态支持，依赖注入，注解，协程</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>整体生态的缺乏，首要的是异步ORM</li>
<li>响应式的固有问题，学习曲线</li>
</ul>
<h2 id="不选择的原因"><a href="#不选择的原因" class="headerlink" title="不选择的原因"></a>不选择的原因</h2><ul>
<li>实际测试下来，性能并没有实质性的提升，反而增加了开发难度<ul>
<li>需要桥接阻塞的ORM库存</li>
<li>Springfox打补丁</li>
<li>没有拦截器，只有过滤器，做权限验证时不方便</li>
<li>其它未知的点</li>
</ul>
</li>
<li>上手成本，从近期招聘简历上看，熟悉响应式的人少之又少，我们有极大可能招聘到一个对此不熟悉的人，技术墙还是有的。</li>
</ul>
<p>综上，如果引入webflux，并没有带来好处，反而有诸多不便。因此最终决定使用webmvc。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://zou8944.com/%E9%A6%92-%E9%A6%92%E5%A4%B4%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E7%82%BC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="果冻 | Jelly">
      <meta itemprop="description" content="Beat Jelly; Hit Jelly; Kill Jelly.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="果冻 | Jelly">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/%E9%A6%92-%E9%A6%92%E5%A4%B4%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E7%82%BC/" class="post-title-link" itemprop="url">馒</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-02-08 19:36:49" itemprop="dateCreated datePublished" datetime="2021-02-08T19:36:49+08:00">2021-02-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-02-16 23:56:31" itemprop="dateModified" datetime="2021-02-16T23:56:31+08:00">2021-02-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="馒"><a href="#馒" class="headerlink" title="馒"></a>馒</h1><h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>在遥远而古老的二十世纪末、二十一世纪初，的四川东北部乡村，家里的面食几乎只有一种——挂面。自家种的小麦，大夏天吭哧吭哧背到大队加工厂，制面机震耳欲聋，眼看着小麦变成面粉，再变成面条，上杆、晾晒，从早上等到下午，中午吃自带的干粮。晾干、切断，用精心裁剪的报纸包装成束，装袋，再吭哧吭哧背回家。半年的面食就算完成了。这几乎是人生前十来年每年必做的工作，就像死亡和税收——无法逃脱。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/%E9%A6%92-%E9%A6%92%E5%A4%B4%E7%9A%84%E8%87%AA%E6%88%91%E4%BF%AE%E7%82%BC/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">果冻 | Jelly</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
